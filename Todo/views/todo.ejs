<html>
    <head>
        <title>Todo List</title>
        <script src="/javascripts/jquery-3.3.1.min.js" ></script>
        <script src="/javascripts/todo-list.js"></script>
        <link href="/stylesheets/styles.css" rel="stylesheet" type="text/css"/>
    </head>

    <body>
        <h1>Todo List</h1>
        <div id="todo-table">
            <form>
                <input type="text" id="todoName" name="todoName" required placeholder=" Add new Todo.. "/>
                <button type="submit" >Add Todo</button>
            </form>
            <ul>
                <% for(var i=0;i<todos.length;i++){ %>
                    <li><%= todos[i].item %></li>
                <% } %>
            </ul>
        </div>
        <script type="text/javascript">
            $(document).ready(function(){
                console.log("this is todo list file")
                var todoService = require('../../Service/Todo/todoService');
                $('form').on('submit', function(){
                    console.log("add Button click");
                    var item = $('form input');
                    var todo = {item: item.val()};
                    todoService.getTodoList();
                    return false;

                });

                $('li').on('click', function(){
                    var item = $(this).text().replace(/ /g, "-");
                    todoService.addTodo(item);
                });

            });
        </script>
    </body>

</html>